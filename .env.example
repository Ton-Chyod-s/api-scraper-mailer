# ==============================================================================
# TEMPLATE DE VARIÁVEIS DE AMBIENTE
# ==============================================================================
# Copie este arquivo para .env.development ou .env.production e preencha os valores

# ------------------------------------------------------------------------------
# AMBIENTE
# ------------------------------------------------------------------------------
NODE_ENV=development # development | production | test
PORT=3001

# ------------------------------------------------------------------------------
# DATABASE
# ------------------------------------------------------------------------------
POSTGRES_USER=
POSTGRES_PASSWORD=
POSTGRES_DB=

# Connection string completa
DATABASE_URL=postgresql://user:password@host:port/database

# ------------------------------------------------------------------------------
# AUTENTICAÇÃO JWT
# ------------------------------------------------------------------------------
KEY_JWT=
JWT_ISSUER=api-scraper-mailer-backend
JWT_AUDIENCE=api-scraper-mailer-api
JWT_EXPIRES_IN=1d

# ------------------------------------------------------------------------------
# CORS
# ------------------------------------------------------------------------------
CORS_ORIGIN=http://localhost:3000

# ------------------------------------------------------------------------------
# SENTRY (Monitoramento de Erros)
# ------------------------------------------------------------------------------
SENTRY_DSN=
SENTRY_TRACES_SAMPLE_RATE=0 # 0 = desabilitado, 1 = 100%

# ------------------------------------------------------------------------------
# PROXY
# ------------------------------------------------------------------------------
TRUST_PROXY=0 # 0 = desabilitado, 1 = habilitado

# ------------------------------------------------------------------------------
# USUÁRIO ADMIN (Seed)
# ------------------------------------------------------------------------------
SEED_ADMIN_EMAIL=
SEED_ADMIN_PASSWORD=
SEED_ADMIN_NAME=

# ------------------------------------------------------------------------------
# COOKIES & CSRF
# ------------------------------------------------------------------------------
COOKIE_SAMESITE=lax # lax | strict | none
COOKIE_SECURE=false # true em produção
CSRF_ENABLED=true
CSRF_COOKIE_NAME=csrfToken

# ------------------------------------------------------------------------------
# SMTP (Envio de E-mails)
# ------------------------------------------------------------------------------
SMTP_HOST=smtp.gmail.com
SMTP_PORT=465
SMTP_USER=
SMTP_PASSWORD=

# ------------------------------------------------------------------------------
# DIOGRANDE (Certificados TLS)
# ------------------------------------------------------------------------------
DIOGRANDE_AUTO_DISCOVER_CA=true
DIOGRANDE_CA_CACHE_PATH=certs/diogrande-ca.pem
DIOGRANDE_DISCOVER_TIMEOUT_MS=6000
DIOGRANDE_AIA_FETCH_TIMEOUT_MS=6000
DIOGRANDE_DEBUG=false
DIOGRANDE_CACHE_DISCOVERED_CA=false

# Opcional - Pin manual do certificado (use \n para quebras de linha)
# DIOGRANDE_CA_PEM="-----BEGIN CERTIFICATE-----\n...\n-----END CERTIFICATE-----"

# Opcional - Hosts AIA permitidos (separados por vírgula)
# DIOGRANDE_AIA_ALLOWED_HOSTS=*.digicert.com,*.letsencrypt.org

# APENAS DEV - Permite TLS inseguro (NUNCA use em produção!)
# DIOGRANDE_ALLOW_INSECURE_TLS=true

# ------------------------------------------------------------------------------
# OFFICIAL JOURNALS
# ------------------------------------------------------------------------------
OFFICIAL_JOURNALS_MAX_RANGE_DAYS=365
OFFICIAL_JOURNALS_DEBUG=false

# ------------------------------------------------------------------------------
# DEBUG & LOGS
# ------------------------------------------------------------------------------
PRISMA_QUERY_LOG=false
DEBUG_ROUTES_ENABLED=false